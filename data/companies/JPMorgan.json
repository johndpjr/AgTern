{
  "$schema": "AgTernScrapeConfigSchema.json",
  "company": {
    "name": "JPMorgan"
  },
  "links": {
    "home": "https://careers.jpmorgan.com",
    "internships": "https://careers.jpmorgan.com/global/en/students/programs?deeplink=multiTabNav1::tab3"
  },
  "xpaths": {
    "title": "//div[contains(@class,'internship active')]//div//p//a[contains(@class,'event-name-href')]",
    "posting_link": "//div[contains(@class,'internship active')]//div//p//a[contains(@class,'event-name-href')]/@href",
    "category": "//div/div/div/div/p[@class='type']",
    "location": "//div/p[@class='location-name']",
    "description": "//div[@class='row  jpmc-grid']//div//div//p",
    "job_type": "//div/a[contains(@class,'eyebrow')]",
    "apply_link": "//div[@id='programs-apply-now-btn']//div//a[contains(@class,'button primary promo-btn')]/@href"
  },
  "regexes": {
    "title": {
      "pattern": "(.+)",
      "ignore_case": true,
      "default": ""
    },
  },
  "unique": [ "posting_link", "company_job_id" ],
  "scrape": [
    {
      "action": "scroll_to_bottom"
    },
    {
      "action": "scrape",
      "properties": [
        {
          "name": "title",
          "xpath": "//div[contains(@class,'internship active')]//div//p//a[contains(@class,'event-name-href')]",
          "regex": {
            "pattern": "(.+)",
            "ignore_case": true,
            "default": ""
          }
        },
        {
          "name": "posting_link",
          "xpath": "//div[contains(@class,'internship active')]//div//p//a[contains(@class,'event-name-href')]",
          "html_property": "href",
          "unique": true
        },
        {
          "name": "category",
          "xpath": "//div/div/div/div/p[@class='type']"
        },
        {
          "name": "location",
          "xpath": "//div/p[@class='location-name']"
        }
      ]
    },
    {
      "action": "scrape",
      "link_property": "posting_link",
      "properties": [
        {
          "name": "description",
          "xpath": "//div[@class='row  jpmc-grid']//div//div//p"
        },
        {
          "name": "tags",
          "xpath": "//div[@class='row  jpmc-grid']//div//div//p",
          "data_processing": "get_keywords(text)"
        },
        {
          "name": "job_type",
          "xpath": "//div/a[contains(@class,'eyebrow')]"
        },
        {
          "name": "apply_link",
          "xpath": "//div[@id='programs-apply-now-btn']//div//a[contains(@class,'button primary promo-btn')]",
          "html_property": "href"
        }
      ]
    }
  ]
}
