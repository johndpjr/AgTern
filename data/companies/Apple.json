{
  "$schema": "AgTernScrapeConfigSchema.json",
  "company": {
    "name": "Apple"
  },
  "links": {
    "home": "https://www.apple.com/",
    "internships": "https://jobs.apple.com/en-us/search?team=Internships-STDNT-INTRN"
  },
  "xpaths": {
    "next_page": "//li[@class='pagination__next']//a",
    "title": "//a[contains(@id,'jotTitle')]",
    "posting_link": "//a[contains(@id,'jotTitle')]/@href",
    "post_date": "//span[contains(@id,'postedDate')]",
    "category": "//div[@id='job-team-name']",
    "apply_link": "(//div[@id='job-details-actions']/a)[1]/@href",
    "location": "//div[@itemprop='address']",
    "company_job_id": "//strong[@id='jobNumber']",
    "description": "//div[@itemprop='description']"
  },
  "regexes": {
    "description": {
      "pattern": "Role Number:\\d*(.*)",
      "group": 1,
      "dot_all": true
    }
  },
  "unique": [
    "posting_link",
    "company_job_id"
  ],
  "scrape": [
    {
      "action": "scrape",
      "next_page": "//li[@class='pagination__next']//a",
      "properties": [
        {
          "name": "title",
          "xpath": "//a[contains(@id,'jotTitle')]"
        },
        {
          "name": "posting_link",
          "xpath": "//a[contains(@id,'jotTitle')]",
          "html_property": "href",
          "unique": true
        },
        {
          "name": "post_date",
          "xpath": "//span[contains(@id,'postedDate')]"
        }
      ]
    },
    {
      "action": "scrape",
      "link_property": "posting_link",
      "properties": [
        {
          "name": "category",
          "xpath": "//div[@id='job-team-name']"
        },
        {
          "name": "apply_link",
          "xpath": "(//div[@id='job-details-actions']/a)[1]",
          "html_property": "href"
        },
        {
          "name": "location",
          "xpath": "//div[@itemprop='address']"
        },
        {
          "name": "company_job_id",
          "xpath": "//strong[@id='jobNumber']"
        },
        {
          "name": "description",
          "xpath": "//div[@itemprop='description']",
          "regex": {
            "pattern": "(Role Number:\\d*\\n)([\\s\\S]*)",
            "group": 2,
            "multiline": true
          }
        },
        {
          "name": "tags",
          "xpath": "//div[@itemprop='description']",
          "data_processing": "get_keywords(text)"
        }
      ]
    }
  ]
}
